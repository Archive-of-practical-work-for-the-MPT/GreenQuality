<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}GreenQuality Airlines{% endblock %}</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="{% static 'css/pages.css' %}">
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- –®–∞–ø–∫–∞ —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º –º—É—Ç–Ω–æ–≥–æ —Å—Ç–µ–∫–ª–∞ -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <img src="{% static 'images/logo.png' %}" alt="GreenQuality Airlines Logo" style="height: 40px; margin-right: 15px; vertical-align: middle;">
                <h1 style="display: inline-block; vertical-align: middle;">GreenQuality Airlines</h1>
            </div>
            <nav class="navigation">
                <ul>
                    <li><a href="{% url 'index' %}">–ì–ª–∞–≤–Ω–∞—è</a></li>
                    <li><a href="{% url 'about' %}">–û –Ω–∞—Å</a></li>
                    <li><a href="{% url 'flights' %}">–†–µ–π—Å—ã</a></li>
                    <li><a href="{% url 'contacts' %}">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                    {% if request.session.account_id %}
                        <li><a href="{% url 'profile' %}">–ü—Ä–æ—Ñ–∏–ª—å</a></li>
                        {% if is_admin %}
                            <li><a href="{% url 'admin_panel' %}">–ü–∞–Ω–µ–ª—å</a></li>
                        {% elif is_manager %}
                            <li><a href="{% url 'manager_panel' %}">–ü–∞–Ω–µ–ª—å</a></li>
                        {% endif %}
                        <li><a href="{% url 'logout' %}">–í—ã—Ö–æ–¥</a></li>
                    {% else %}
                        <li><a href="{% url 'login' %}">–í—Ö–æ–¥</a></li>
                        <li><a href="{% url 'register' %}">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a></li>
                    {% endif %}
                    <li>
                        <button class="theme-toggle" id="themeToggle" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
                            <span class="theme-toggle-icon" id="themeIcon">üåô</span>
                        </button>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ -->
    <main class="main-content">
        {% block content %}
        {% endblock %}
    </main>

    <!-- –§—É—Ç–µ—Ä -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>GreenQuality Airlines</h3>
                    <p>–í–∞—à –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä—Ç–Ω–µ—Ä –≤ –º–∏—Ä–µ –≤–æ–∑–¥—É—à–Ω—ã—Ö –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π.</p>
                </div>
                <div class="footer-section">
                    <h4>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h4>
                    <p>Email: info@greenquality.ru</p>
                    <p>–¢–µ–ª–µ—Ñ–æ–Ω: +7 (495) 123-45-67</p>
                </div>
                <div class="footer-section">
                    <h4>–°–ª–µ–¥–∏—Ç–µ –∑–∞ –Ω–∞–º–∏</h4>
                    <div class="social-links">
                        <a href="#" class="social-icon">VK</a>
                        <a href="#" class="social-icon">Telegram</a>
                        <a href="#" class="social-icon">MAX</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 GreenQuality Airlines. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            </div>
        </div>
    </footer>
    
    <!-- JavaScript –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ -->
    <script>
        // –ö–∞—Ä—É—Å–µ–ª—å
        let currentSlide = 0;
        const slides = document.querySelectorAll('.carousel-item');
        const indicators = document.querySelectorAll('.indicator');
        
        function showSlide(n) {
            slides[currentSlide].classList.remove('active');
            indicators[currentSlide].classList.remove('active');
            
            currentSlide = (n + slides.length) % slides.length;
            
            slides[currentSlide].classList.add('active');
            indicators[currentSlide].classList.add('active');
        }
        
        function nextSlide() {
            showSlide(currentSlide + 1);
        }
        
        function prevSlide() {
            showSlide(currentSlide - 1);
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—É—Å–µ–ª–∏
        if (slides.length > 0) {
            slides[0].classList.add('active');
            if (indicators.length > 0) {
                indicators[0].classList.add('active');
            }
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–º–µ–Ω–∞ —Å–ª–∞–π–¥–æ–≤ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
            setInterval(nextSlide, 5000);
        }
        
        // FAQ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤
        document.addEventListener('DOMContentLoaded', function() {
            const faqQuestions = document.querySelectorAll('.faq-question');
            
            faqQuestions.forEach(question => {
                question.addEventListener('click', () => {
                    const answer = question.nextElementSibling;
                    question.classList.toggle('active');
                    answer.classList.toggle('open');
                });
            });
        });
        
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
        (function() {
            const themeToggle = document.getElementById('themeToggle');
            const themeIcon = document.getElementById('themeIcon');
            const html = document.documentElement;
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é —Ç–µ–º—É –∏–∑ localStorage
            const savedTheme = localStorage.getItem('theme') || 'light';
            if (savedTheme === 'dark') {
                html.setAttribute('data-theme', 'dark');
                themeIcon.textContent = '‚òÄÔ∏è';
            } else {
                html.setAttribute('data-theme', 'light');
                themeIcon.textContent = 'üåô';
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã
            themeToggle.addEventListener('click', function() {
                const currentTheme = html.getAttribute('data-theme');
                const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                
                html.setAttribute('data-theme', newTheme);
                localStorage.setItem('theme', newTheme);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∏–∫–æ–Ω–∫—É
                themeIcon.textContent = newTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
            });
        })();
    </script>
    {% block extra_js %}{% endblock %}
</body>
</html>